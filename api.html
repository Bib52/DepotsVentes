<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Dépôts-Ventes</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Application de gestion d'une bourse de dépôts/ventes</h1>
      <h2 class="project-tagline">Projet tuteuré LP-CISIIE 2015/2016 : Bergeret Florian & Bounajra Mourad</h2>
      <a href="https://github.com/fbergeret/DepotsVentes" class="btn">Voir sur GitHub</a>
      <a href="https://github.com/fbergeret/DepotsVentes/zipball/master" class="btn">Télécharger .zip</a>
      <a href="https://github.com/fbergeret/DepotsVentes/tarball/master" class="btn">Télécharger .tar.gz</a>
    </section>
    
    <section class="col-md-2">
      <ul class="nav nav-pills nav-stacked">
        <li><a href="/DepotsVentes">Projet</a></li>
        <li><a href="manuel_installation.html">Manuel d'installation</a></li>
        <li><a href="manuel_utilisateur.html">Manuel d'utilisation</a></li>
        <li class="active"><a href="api.html">API</a></li>
      </ul>
    </section>
    <section class="main-content">
      <h1>API</h1>
      
      <p>
        Une API (Application Programming Interface) est un ensemble de fonctionnalités, mise à disposition des programmes informatiques afin de récupérer des données à l'aide d'URI. 
      </p>
      <p>
        Notre API est donc reliée à la base de données MySQL qui contient toutes les données envoyées par l'application. Cette base de données est composées de 7 tables (image ci-dessous).
      </p>
      <figure class="centre">
        <img src="images/model_donnees.png" alt="Modèle de données"/>
        <figcaption>Modèle de données utilisé</figcaption>
      </figure>
      <p>
        Notre application contient un certains nombre d'URI que nous avons regroupé en six  catégories : <a href="#depot">dépôts</a>, <a href="#vente">ventes</a>, <a href="#produit">produits</a>, <a href="#mode">mode de paiement</a>, <a href="#staff">staff</a> et <a href="#config">configuration de la commission</a>. Ces catégories comme vous pouvez le voir sont liés au modèle de données utilisé par la base de données. Pour chacune des routes vous trouverez ici la méthode HTTP utilisé, l'URI, les paramètres et une description rapide pour mieux comprendre l'usage de celle-ci.
      </p>
      
      <h4 id="depot">Dépôts</h4>
      <table class="col-md-12">
        <tr>
          <td>Méthode</td>
          <td>URL</td>
          <td>Paramètres</td>
          <td>Description</td>
        </tr>
        <tr>
          <td>GET</td>
          <td>/api/depots</td>
          <td> / </td>
          <td>Recupérer tous les dépôts</td>
        </tr>
        <tr>
          <td>GET</td>
          <td>/api/depots/{id}</td>
          <td> / </td>
          <td>Récupérer le dépôt id</td>
        </tr>
        <tr>
          <td>GET</td>
          <td>/api/depots/{id_depot}/products</td>
          <td> / </td>
          <td>Récupérer les produits d'un dépôt</td>
        </tr>
        <td>POST</td>
          <td>/api/depots</td>
          <td>coordonnées deposant</td>
          <td>Ajouter un dépôt</td>
        </tr>
        <tr>
        <td>POST</td>
          <td>/api/depots/{id_depot}/products</td>
          <td>code barre, description, prix</td>
          <td>Ajouter des produits dans un dépôt</td>
        </tr>        
        <tr>
          <td>PUT</td>
          <td>/api/depots/{id}</td>
          <td>coordonnées deposant</td>
          <td>Mettre à jour les informations sur le dépôt</td>
        </tr>
        <tr>
          <td>PUT</td>
          <td>/api/depots/{id_depot}/products/{id}</td>
          <td>description, prix</td>
          <td>Modifier un produit d'un dépôt</td>
        </tr>
        <tr>
          <td>DELETE</td>
          <td>/api/depots/{id}</td>
          <td> / </td>
          <td>Supprimer un dépôt</td>
        </tr>
        <tr>
          <td>DELETE</td>
          <td>/api/depots/{id_depot}/products/{id}</td>
          <td> / </td>
          <td>Supprimer le produit id du dépôt (id_depot)</td>
        </tr>
      </table>
      <a href="#top">Retour en haut</a>
      
      <h4 id="vente">Ventes</h4>
      <table class="col-md-12">
        <tr>
          <td>Méthode</td>
          <td>URL</td>
          <td>Paramètres</td>
          <td>Description</td>
        </tr>
        <tr>
          <td>GET</td>
          <td>/api/sales</td>
          <td> / </td>
          <td>Récupérer toutes les ventes</td>
        </tr>
        <tr>
          <td>GET</td>
          <td>/api/sales/{id}</td>
          <td> / </td>
          <td>Récupérer la vente id</td>
        </tr>
        <tr>
          <td>GET</td>
          <td>/api/sales/{id_sale}/products</td>
          <td> / </td>
          <td>Récupérer les produits d'une vente</td>
        </tr>
        <tr>
          <td>GET</td>
          <td>/api/sales/{id_sale}/payments</td>
          <td> / </td>
          <td>Récupérer le paiement de la vente</td>
        </tr>
        <tr>
          <td>POST</td>
          <td>/api/sales</td>
          <td> / </td>
          <td>Créer une vente</td>
        </tr>
        <tr>
          <td>POST</td>
          <td>/api/sales/{id_sale}/payments</td>
          <td>mode de paiement, prix</td>
          <td>Ajouter un paiement à la vente</td>
        </tr>
        <tr>
          <td>PUT</td>
          <td>/api/sales/{id_sale}/products/{id}</td>
          <td>code barre, description, prix</td>
          <td>Ajouter un produit (id) dans une vente (id_sale)</td>
        </tr>
        <tr>
          <td>PUT</td>
          <td>/api/sales/{id_sale}</td>
          <td>coordonnées acheteur</td>
          <td>Ajouter un acheteur à la vente</td>
        </tr>
        <tr>
          <td>DELETE</td>
          <td>/api/sales/{id}</td>
          <td> / </td>
          <td>Supprimer une vente</td>
        </tr>
        <tr>
          <td>DELETE</td>
          <td>/api/sales/{id_sale}/products/{id}</td>
          <td> / </td>
          <td>Supprimer un produit de la vente</td>
        </tr>
        <tr>
          <td>DELETE</td>
          <td>/api/sales/{id_sale}/payments</td>
          <td> / </td>
          <td>Supprimer le paiement de la vente</td>
        </tr>
      </table>
      <a href="#top">Retour en haut</a>
      
      <h4 id="produit">Produits</h4>
      <table class="col-md-12">
        <tr>
          <td>Méthode</td>
          <td>URL</td>
          <td>Paramètres</td>
          <td>Description</td>
        </tr>
        <tr>
          <td>GET</td>
          <td>/api/products</td>
          <td> / </td>
          <td>Récupérer tous les produits</td>
        </tr>
        <tr>
          <td>GET</td>
          <td>/api/products/{reference}</td>
          <td> / </td>
          <td>Récupérer le produit reference</td>
        </tr>
        <tr>
          <td>DELETE</td>
          <td>/api/products/{reference}</td>
          <td> / </td>
          <td>Supprimer le produit référence</td>
        </tr>
      </table>
      <a href="#top">Retour en haut</a>
      
      <h4 id="mode">Mode de paiement</h4>
      <table>
        <tr>
          <td>Méthode</td>
          <td>URL</td>
          <td>Paramètres</td>
          <td>Description</td>
        </tr>
        <tr>
          <td>GET</td>
          <td>/api/payments</td>
          <td> / </td>
          <td>Récupérer les modes de paiements</td>
        </tr>
        <tr>
          <td>POST</td>
          <td>/api/payments</td>
          <td>mode de paiement : nom</td>
          <td>Ajouter un mode de paiement</td>
        </tr>
        <tr>
          <td>PUT</td>
          <td>/api/payments/{id}</td>
          <td>mode de paiement : nom</td>
          <td>Modifier un mode de paiement</td>
        </tr>
        <tr>
          <td>DELETE</td>
          <td>/api/payments/{id}</td>
          <td> / </td>
          <td>Supprimer un mode de paiement</td>
        </tr>
      </table>
      <a href="#top">Retour en haut</a>
      
      <h4 id="staff">Staffs</h4>
      <table class="col-md-12">
        <tr>
          <td>Méthode</td>
          <td>URL</td>
          <td>Paramètres</td>
          <td>Description</td>
        </tr>
        <tr>
          <td>GET</td>
          <td>/api/staffs</td>
          <td> / </td>
          <td>Récupérer les membres du staffs</td>
        </tr>
        <tr>
          <td>POST</td>
          <td>/api/staffs</td>
          <td>staff, name, login, pass, permission</td>
          <td>Ajouter un membre du staff</td>
        </tr>
        <tr>
          <td>PUT</td>
          <td>/api/staffs/{id}</td>
          <td>staff, name, login, pass, permission</td>
          <td>Mettre à jour les informations d'un staff</td>
        </tr>
        <tr>
          <td>DELETE</td>
          <td>/api/staffs/{id}</td>
          <td> / </td>
          <td>Supprimer un membre du staff</td>
        </tr>
      </table>
      <a href="#top">Retour en haut</a>
      
      <h4 id="config">Configuration de la commission</h4>
      <table class="col-md-12">
        <tr>
          <td class="col-md-3">Méthode</td>
          <td class="col-md-3">URL</td>
          <td class="col-md-3">Paramètres</td>
          <td class="col-md-3">Description</td>
        </tr>
        <tr>
          <td>GET</td>
          <td>/api/configurations</td>
          <td> / </td>
          <td>Récupérer toutes les configurations</td>
        </tr>
        <tr>
          <td>GET</td>
          <td>/api/configurations/{id}</td>
          <td> / </td>
          <td>Récupérer la configuration id</td>
        </tr>
        <tr>
          <td>PUT</td>
          <td>/api/configurations/{id}</td>
          <td>valeur</td>
          <td>Modifier la configuration id</td>
        </tr>
      </table>
      <a href="#top">Retour en haut</a>
      
      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/fbergeret/DepotsVentes">Depotsventes</a> est développé par <a href="https://github.com/fbergeret">Florian Bergeret</a> & <a href="http://github.com/mbounajra">Mourad Bounajra</a>.</span>

        <span class="site-footer-credits">Cette page utilise : <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> par <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
